# Tutorial 5: Complete Demo

Полноценный пример визуальной новеллы, демонстрирующий все возможности NM Script.

## Что демонстрируется

- ✅ Персонажи с разными цветами
- ✅ Множественные сцены и переходы
- ✅ Система выборов
- ✅ Переменные и условия
- ✅ Музыка и звуковые эффекты (упоминаются в коде)
- ✅ Анимация и переходы
- ✅ Перемещение персонажей
- ✅ Множественные концовки
- ✅ Локализация (готова к использованию)

## Время выполнения

⏱️ **30 минут для полного изучения**

## Сюжет

Вы - детектив, расследующий загадочное дело в особняке.
Ваши выборы определят, раскроете ли вы тайну и какую концовку получите.

## Особенности

### Множественные концовки

- **Истинная концовка**: Раскрыли всю правду (требуется высокий investigation)
- **Хорошая концовка**: Раскрыли часть правды
- **Плохая концовка**: Не смогли раскрыть дело
- **Секретная концовка**: Особый путь (требуется найти все улики)

### Система расследования

```nms
var investigation = 0  // Очки расследования
var clues_found = 0    // Найденные улики
```

Чем больше вы исследуете и находите улик, тем лучше концовка.

### Продвинутые техники

**1. Инлайн-блоки в выборах**:
```nms
choice {
    "Исследовать" -> {
        set investigation = investigation + 5
        goto next_scene
    }
}
```

**2. Сложные условия**:
```nms
if investigation >= 20 && clues_found >= 3 {
    goto true_ending
}
```

**3. Перемещение персонажей**:
```nms
move Detective to left duration=1.0
```

## Инструкции

### Шаг 1: Запустите

1. Откройте NovelMind Editor
2. File → Open Project
3. Выберите папку `05_complete_demo`
4. Нажмите ▶ Play

### Шаг 2: Исследуйте

Сыграйте несколько раз:
- В первый раз выбирайте всё "исследовать"
- Во второй раз игнорируйте улики
- В третий раз ищите секретный путь

### Шаг 3: Изучите код

Откройте `detective.nms` и изучите:
- Как организована структура большого проекта
- Как используются комментарии для разделения секций
- Как реализованы сложные условия

## Структура файла

```nms
// === СЕКЦИЯ 1: ОБЪЯВЛЕНИЯ ===
// Персонажи и переменные

// === СЕКЦИЯ 2: ПРОЛОГ ===
// Вступительные сцены

// === СЕКЦИЯ 3: РАССЛЕДОВАНИЕ ===
// Основная игра

// === СЕКЦИЯ 4: КОНЦОВКИ ===
// Различные завершения
```

## Расширение демо

### Добавьте новую улику

```nms
scene library_clue {
    say Detective "В книге закладка!"

    set clues_found = clues_found + 1
    set investigation = investigation + 3

    say "Улика #{clues_found} найдена!"
}
```

### Добавьте нового персонажа

```nms
character Butler(name="Дворецкий", color="#808080")

scene meet_butler {
    show Butler at right
    say Butler "Чем могу помочь?"
}
```

### Создайте подсистему

```nms
// Система репутации
var reputation = 50

scene talk_politely {
    set reputation = reputation + 5
}

scene talk_rudely {
    set reputation = reputation - 5
}

scene check_reputation {
    if reputation >= 70 {
        say "Все вам доверяют!"
    }
}
```

## Что изучить дальше

После этого туториала вы готовы к:

1. **Полной спецификации**: [nm_script_specification.md](../../../docs/nm_script_specification.md)
2. **Поваренной книге**: [nm_script_cookbook.md](../../../docs/tutorials/nm_script_cookbook.md)
3. **Sample Novel**: [examples/sample_novel/](../../sample_novel/)
4. Созданию собственной визуальной новеллы!

## Полезные ресурсы

- [Быстрый старт](../../../docs/tutorials/nm_script_quick_start.md)
- [Устранение неполадок](../../../docs/tutorials/nm_script_troubleshooting.md)
- [Спецификация языка](../../../docs/nm_script_specification.md)

---

**Поздравляем!** Вы прошли все туториалы и готовы создавать свои визуальные новеллы!
