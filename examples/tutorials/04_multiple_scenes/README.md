# Tutorial 4: Multiple Scenes

Узнайте, как создавать сложные истории с несколькими сценами и переходами между ними.

## Что вы узнаете

- Как организовать большой проект с множеством сцен
- Как создавать цепочки сцен
- Как использовать переходы между сценами
- Как создавать нелинейное повествование

## Время выполнения

⏱️ **20 минут**

## Инструкции

### Шаг 1: Изучите структуру

Откройте файл `story.nms` - это полноценная мини-игра с:
- Вступлением
- Несколькими главами
- Выборами, влияющими на историю
- Множественными концовками

### Шаг 2: Понимание потока сцен

```
intro
  ↓
chapter1_start
  ↓
chapter1_choice → path_a / path_b
  ↓
chapter2
  ↓
final_choice
  ↓
ending (3 варианта)
```

### Шаг 3: Переходы между сценами

**Прямой переход**:
```nms
scene scene1 {
    say Hero "Идём дальше!"
    goto scene2
}
```

**Переход через выбор**:
```nms
scene decision {
    choice {
        "Вариант A" -> scene_a
        "Вариант B" -> scene_b
    }
}
```

### Шаг 4: Запустите

1. Откройте NovelMind Editor
2. File → Open Project
3. Выберите папку `04_multiple_scenes`
4. Нажмите ▶ Play
5. Сыграйте несколько раз, делая разные выборы!

### Шаг 5: Экспериментируйте

**Задание 1**: Добавьте новую главу между chapter1 и chapter2
```nms
scene chapter1_5 {
    show background "bg_transition"
    say Hero "Время прошло..."
    goto chapter2
}

// В конце chapter1_choice:
goto chapter1_5  // Вместо goto chapter2
```

**Задание 2**: Добавьте ещё одну концовку
```nms
scene secret_ending {
    // Только если выполнены особые условия
    if courage >= 15 && kindness >= 15 {
        say "СЕКРЕТНАЯ КОНЦОВКА!"
    }
}
```

**Задание 3**: Создайте "петлю времени"
```nms
var loops = 0

scene time_loop {
    set loops = loops + 1

    say "Цикл номер {loops}"

    if loops >= 3 {
        goto escape_loop
    } else {
        goto time_loop
    }
}
```

## Советы по организации

### 1. Именование сцен

Используйте префиксы для группировки:
```nms
// Главы
scene ch1_intro { ... }
scene ch1_battle { ... }
scene ch2_intro { ... }

// Концовки
scene ending_good { ... }
scene ending_bad { ... }
scene ending_true { ... }
```

### 2. Комментарии

Документируйте сложные переходы:
```nms
// === ГЛАВА 1: НАЧАЛО ПУТИ ===
scene ch1_start {
    // Игрок выбирает класс персонажа
    // Это влияет на всю остальную игру
    ...
}
```

### 3. Планирование

Перед написанием нарисуйте блок-схему:
```
     [Start]
        ↓
   [Chapter 1]
      ↙   ↘
   [A]     [B]
      ↘   ↙
   [Chapter 2]
        ↓
   [Endings]
```

## Что дальше?

Переходите к **Tutorial 5: Complete Demo** для изучения полноценного примера со всеми возможностями!
